<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>geolocate API documentation</title>
<meta name="description" content="Geolocate …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>geolocate</code></h1>
</header>
<section id="section-intro">
<h1 id="geolocate">Geolocate</h1>
<p>Georeferencing large amounts of data for free.</p>
<h2 id="how">How?</h2>
<p>It's using the very same API that Waze uses to georeference addresses before
it finds the best route to that destination. It requires no API keys, works
really well and has fairly high throughput.</p>
<p>In order to make this package extensible, there's an abstract class
<code>GeolocateEngine</code> that defines the interface for the engines. This allows
for the addition of new engines without having to modify the code.</p>
<h2 id="how-do-i-use-it">How do I use it?</h2>
<p>First you have to install the <code><a title="geolocate" href="#geolocate">geolocate</a></code> package for Python 3.7+:</p>
<pre><code>pip3 install geolocate
</code></pre>
<p>Then, for a single address:</p>
<pre><code class="language-py">&gt;&gt;&gt; from geolocate import geolocate
&gt;&gt;&gt; geolocate(&quot;1 Infinite Loop, Cupertino, CA 95014&quot;)
{'latitude': 37.3311841, 'longitude': -122.0287127}
</code></pre>
<p>Or, if you want to run things in parallel:</p>
<pre><code class="language-py">&gt;&gt;&gt; from geolocate import geolocate_batch
&gt;&gt;&gt; geolocate_batch([&quot;1 Infinite Loop, Cupertino, CA 95014&quot;, &quot;Eiffel Tower&quot;])
100%|███████| 2/2 [00:01&lt;00:00,  1.66it/s]
[{'latitude': 37.3311841, 'longitude': -122.0287127},
{'latitude': 48.8560934, 'longitude': 2.2930458}]
</code></pre>
<h3 id="advanced-usage">Advanced usage</h3>
<p>Both <code><a title="geolocate" href="#geolocate">geolocate</a></code> and <code>geolocate_batch</code> accept the following keyword arguments:</p>
<ul>
<li>engine (<code><a title="geolocate.engines.GeolocateEngine" href="engines.html#geolocate.engines.GeolocateEngine">GeolocateEngine</a></code>): Engine to use for
geolocating the address. Defaults to <code><a title="geolocate.engines.WazeEngine" href="engines.html#geolocate.engines.WazeEngine">WazeEngine</a></code></li>
<li>timeout (int): The timeout in seconds.</li>
<li>tries (int): The number of attempts to geolocate the address.</li>
<li>backoff_factor (float): The backoff factor. Delay will grow by
<code>{backoff factor} * (2 ** ({number of total retries} - 1))</code>.</li>
<li>on_not_found (str or callable): A callback function for when the
address is not found. The signature of the callback function
should be:
<code>py
def callback(address: str):
...</code>
where <code>address</code> is the address that was not found. The return
value of the callback function is returned by the geolocate
function.</li>
<li>on_error (str or callable): A callback function for when an error
occurs. The signature of the callback function should be:
<code>py
def callback(address: str, error: Exception):
...</code>
where <code>address</code> is the address that caused the error and
<code>error</code> is the exception that occurred. The return value of
the callback function is returned by the geolocate function.</li>
</ul>
<p>In addition, the <code>geolocate_batch</code> function accepts the following
keyword arguments:</p>
<ul>
<li>num_cpus (int): The number of CPUs to use. If None, the number of
CPUs will be determined automatically.</li>
</ul>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># -*- coding: utf-8 -*-
&#34;&#34;&#34;
# Geolocate

Georeferencing large amounts of data for free.

## How?

It&#39;s using the very same API that Waze uses to georeference addresses before
it finds the best route to that destination. It requires no API keys, works
really well and has fairly high throughput.

In order to make this package extensible, there&#39;s an abstract class
`GeolocateEngine` that defines the interface for the engines. This allows
for the addition of new engines without having to modify the code.

## How do I use it?

First you have to install the `geolocate` package for Python 3.7+:

```
pip3 install geolocate
```

Then, for a single address:

```py
&gt;&gt;&gt; from geolocate import geolocate
&gt;&gt;&gt; geolocate(&#34;1 Infinite Loop, Cupertino, CA 95014&#34;)
{&#39;latitude&#39;: 37.3311841, &#39;longitude&#39;: -122.0287127}
```

Or, if you want to run things in parallel:

```py
&gt;&gt;&gt; from geolocate import geolocate_batch
&gt;&gt;&gt; geolocate_batch([&#34;1 Infinite Loop, Cupertino, CA 95014&#34;, &#34;Eiffel Tower&#34;])
100%|███████| 2/2 [00:01&lt;00:00,  1.66it/s]
[{&#39;latitude&#39;: 37.3311841, &#39;longitude&#39;: -122.0287127},
{&#39;latitude&#39;: 48.8560934, &#39;longitude&#39;: 2.2930458}]
```

### Advanced usage

Both `geolocate` and `geolocate_batch` accept the following keyword arguments:

- engine (`geolocate.engines.GeolocateEngine`): Engine to use for
  geolocating the address. Defaults to `geolocate.engines.WazeEngine`
- timeout (int): The timeout in seconds.
- tries (int): The number of attempts to geolocate the address.
- backoff_factor (float): The backoff factor. Delay will grow by
  `{backoff factor} * (2 ** ({number of total retries} - 1))`.
- on_not_found (str or callable): A callback function for when the
  address is not found. The signature of the callback function
  should be:
  ```py
  def callback(address: str):
      ...
  ```
  where `address` is the address that was not found. The return
  value of the callback function is returned by the geolocate
  function.
- on_error (str or callable): A callback function for when an error
  occurs. The signature of the callback function should be:
  ```py
  def callback(address: str, error: Exception):
      ...
  ```
  where `address` is the address that caused the error and
  `error` is the exception that occurred. The return value of
  the callback function is returned by the geolocate function.

In addition, the `geolocate_batch` function accepts the following
keyword arguments:

- num_cpus (int): The number of CPUs to use. If None, the number of
  CPUs will be determined automatically.
&#34;&#34;&#34;

from geolocate.exports import geolocate, geolocate_batch  # noqa: F401</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="geolocate.constants" href="constants.html">geolocate.constants</a></code></dt>
<dd>
<div class="desc"><p>Constant parameters for the whole project.</p></div>
</dd>
<dt><code class="name"><a title="geolocate.engines" href="engines.html">geolocate.engines</a></code></dt>
<dd>
<div class="desc"><p>Engines for geolocating addresses …</p></div>
</dd>
<dt><code class="name"><a title="geolocate.exceptions" href="exceptions.html">geolocate.exceptions</a></code></dt>
<dd>
<div class="desc"><p>Defining exceptions for geolocate module.</p></div>
</dd>
<dt><code class="name"><a title="geolocate.exports" href="exports.html">geolocate.exports</a></code></dt>
<dd>
<div class="desc"><p>These are the methods which will be exported on <code>__init__.py</code>.</p></div>
</dd>
<dt><code class="name"><a title="geolocate.utils" href="utils.html">geolocate.utils</a></code></dt>
<dd>
<div class="desc"><p>Utility functions for geolocate.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#geolocate">Geolocate</a><ul>
<li><a href="#how">How?</a></li>
<li><a href="#how-do-i-use-it">How do I use it?</a><ul>
<li><a href="#advanced-usage">Advanced usage</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="geolocate.constants" href="constants.html">geolocate.constants</a></code></li>
<li><code><a title="geolocate.engines" href="engines.html">geolocate.engines</a></code></li>
<li><code><a title="geolocate.exceptions" href="exceptions.html">geolocate.exceptions</a></code></li>
<li><code><a title="geolocate.exports" href="exports.html">geolocate.exports</a></code></li>
<li><code><a title="geolocate.utils" href="utils.html">geolocate.utils</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>